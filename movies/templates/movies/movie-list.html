{% extends "movies/base.html" %}
{% load static %}

{% block content %}
    <div>
    {% for i in movies %}
        <h1>{{i.movie_title}}</h1>
        <p>{{i.pk}}</p>
        <p>{{i.movie_id}}</p>
        <p>{{i.poster_img}}</p>
        <p>{{i.summary}}</p>
        {{ i.genres_set.value}}
        {% for k in i.genres_set.values %}
        {{k.genres1}}
            <!-- {{k}}{{v}}
            {% if k|first in 'genres' and v is not None %}
                {{ v }} {{ k }}

            {% endif %} -->
        {% endfor %}
 
    {% endfor %}
</div>
    <div class="swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide"><img src="https://an2-img.amz.wtchn.net/image/v2/T7qP_idp-A7AdHCV6-wZBA.jpg?jwt=ZXlKaGJHY2lPaUpJVXpJMU5pSjkuZXlKdmNIUnpJanBiSW1SZk5Ea3dlRGN3TUhFNE1DSmRMQ0p3SWpvaUwzWXlMM04wYjNKbEwybHRZV2RsTHpFMk56VTJOVE16TlRNNE9EVTVNVEEyTURVaWZRLmZxSThtNU1jQl9HSDFxQ0plZGlUYUxPa1R4WTVwSC1kZGhNWVhISy16anM"></div>
          <div class="swiper-slide">Resize me!</div>
          <div class="swiper-slide">Resize me!</div>
          <div class="swiper-slide">Resize me!</div>
          <div class="swiper-slide">Resize me!</div>
          <div class="swiper-slide">Resize me!</div>
          <div class="swiper-slide">Resize me!</div>
          <div class="swiper-slide">Resize me!</div>
          <div class="swiper-slide">Resize me!</div>
          <div class="swiper-slide">Resize me!</div>
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </div>
    
      <!-- Swiper JS -->
      <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

      <!-- Initialize Swiper -->
  <script>
    var swiper = new Swiper('.swiper', {
      slidesPerView: 3,
      direction: getDirection(),
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      on: {
        resize: function () {
          swiper.changeDirection(getDirection());
        },
      },
    });

    function getDirection() {
      var windowWidth = window.innerWidth;
      var direction = window.innerWidth <= 760 ? 'vertical' : 'horizontal';

      return direction;
    }
  </script>
{% endblock %}